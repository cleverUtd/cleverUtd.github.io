<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>刘梓</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://zclau.com/"/>
  <updated>2018-01-25T16:52:30.000Z</updated>
  <id>http://zclau.com/</id>
  
  <author>
    <name>zclau</name>
    <email>cleverutd@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>线程池执行UncaughtExceptionHandler失效问题分析</title>
    <link href="http://zclau.com/2018/01/26/%E7%BA%BF%E7%A8%8B%E6%B1%A0%E6%89%A7%E8%A1%8CUncaughtExceptionHandler%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90/"/>
    <id>http://zclau.com/2018/01/26/线程池执行UncaughtExceptionHandler失效问题分析/</id>
    <published>2018-01-25T16:51:56.000Z</published>
    <updated>2018-01-25T16:52:30.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="&#x573A;&#x666F;"><a href="#&#x573A;&#x666F;" class="headerlink" title="&#x573A;&#x666F;"></a>&#x573A;&#x666F;</h1><p>&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x53EF;&#x4EE5;&#x5BF9;&#x4E00;&#x4E2A;Thread&#x5BF9;&#x8C61;&#x8BBE;&#x7F6E;UncaughtExceptionHandler&#x6765;&#x8FDB;&#x884C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x672A;&#x6355;&#x6349;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x3002;&#x5177;&#x4F53;&#x53EF;&#x53C2;&#x8003;&#x4E0A;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;<a href="https://www.jianshu.com/p/65fb5d5198e2" target="_blank" rel="external">Thread&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5904;&#x7406;</a></p>
<p>&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x4EA4;&#x7531;&#x7EBF;&#x7A0B;&#x6C60;&#x6765;&#x6267;&#x884C;&#x7684;&#x8BDD;&#xFF0C;</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">public static <span class="literal">void</span> main(String[] args) {</div><div class="line">        Thread task = <span class="keyword">new</span> Thread<span class="function"><span class="params">(() -&gt; {</span></span></div><div class="line">            System.out.println(<span class="string">&quot;Before...&quot;</span>);</div><div class="line">            System.out.println(<span class="number">10</span> / <span class="number">0</span>);</div><div class="line">            System.out.println(<span class="string">&quot;After...&quot;</span>);</div><div class="line">        });</div><div class="line"></div><div class="line"></div><div class="line">        <span class="title">task</span>.<span class="title">setName</span><span class="params">(<span class="string">&quot;Thread-demo&quot;</span>)</span>;</div><div class="line">        <span class="title">task</span>.<span class="title">setUncaughtExceptionHandler</span><span class="params">((t1, e) -&gt; {</span></div><div class="line">            System.out.println(<span class="string">&quot;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;: &quot;</span> + t1);</div><div class="line">            System.out.println(e);</div><div class="line">        });</div><div class="line"></div><div class="line"></div><div class="line">        <span class="title">ExecutorService</span> <span class="title">exec</span> = <span class="title">Executors</span>.<span class="title">newCachedThreadPool</span><span class="params">()</span>;</div><div class="line">        <span class="title">exec</span>.<span class="title">execute</span><span class="params">(task)</span>;</div><div class="line">        <span class="title">exec</span>.<span class="title">shutdown</span><span class="params">()</span>;</div><div class="line">    }</div></pre></td></tr></table></figure>
<p>&#x4ECE;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x7EBF;&#x7A0B;task&#x8BBE;&#x7F6E;&#x4E86;UncaughtExceptionHandler&#xFF0C;&#x5E76;&#x4EA4;&#x7ED9;&#x7EBF;&#x7A0B;&#x6C60;&#x6765;&#x6267;&#x884C;&#xFF0C;&#x7ED3;&#x679C;&#xFF1A;<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-057f20be970597f4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-057f20be970597f4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x7ED3;&#x679C;&#x5E76;&#x4E0D;&#x50CF;&#x6211;&#x4EEC;&#x8BBE;&#x60F3;&#x7684;&#x90A3;&#x6837;&#xFF0C;&#x5C45;&#x7136;&#x6CA1;&#x6709;&#x8D70;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x5B9A;&#x4E49;&#x7684;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>
<h1 id="&#x539F;&#x56E0;"><a href="#&#x539F;&#x56E0;" class="headerlink" title="&#x539F;&#x56E0;"></a>&#x539F;&#x56E0;</h1><p>&#x4E3A;&#x4EC0;&#x4E48;UncaughtExceptionHandler&#x4F1A;&#x5931;&#x6548;&#x5462;&#xFF0C;&#x51B7;&#x9759;&#x4E0B;&#x6765;&#x4ED4;&#x7EC6;&#x56DE;&#x60F3;&#x4E00;&#x4E0B;&#x3002;&#x4ECE;&#x4E0A;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x5206;&#x6790;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x53EA;&#x6709;&#x4E3A;&#x7EBF;&#x7A0B;&#x8BBE;&#x7F6E;&#x4E86;UncaughtExceptionHandler&#xFF0C;&#x8BE5;&#x7EBF;&#x7A0B;&#x5728;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#x65F6;&#xFF0C;&#x624D;&#x4F1A;&#x6267;&#x884C;&#x5BF9;&#x5E94;&#x7684;uncaughtException&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x5982;&#x6B64;&#x8BF4;&#x6765;&#xFF0C;&#x63D0;&#x4EA4;&#x7ED9;&#x7EBF;&#x7A0B;&#x6C60;&#x6267;&#x884C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x5B9E;&#x9645;&#x8FD0;&#x884C;task&#x7684;&#x7EBF;&#x7A0B;&#x5E76;&#x4E0D;&#x662F;task&#x7EBF;&#x7A0B;&#x672C;&#x8EAB;&#xFF08;&#x8FD9;&#x53EF;&#x80FD;&#x6709;&#x70B9;&#x62D7;&#x53E3;&#xFF09;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x662F;task&#x7EBF;&#x7A0B;&#x672C;&#x8EAB;&#xFF0C;&#x53C8;&#x662F;&#x8C01;&#x5728;&#x6267;&#x884C;task&#x5462;&#xFF1F;&#x4E8E;&#x662F;&#x51B3;&#x5B9A;&#x5BF9;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;debug&#xFF0C;</p>
<p>1&#x3001; &#x7EBF;&#x7A0B;&#x6C60;&#x6267;&#x884C;<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-be6957df6dcbe0f7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-be6957df6dcbe0f7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x5F88;&#x660E;&#x663E;&#xFF0C;&#x5F53;&#x524D;&#x8FD0;&#x884C;task&#x7684;&#x662F;&#x7EBF;&#x7A0B;&#x6C60;&#x521B;&#x5EFA;&#x7684;&#x7EBF;&#x7A0B;&#x201D;pool-1-thread-1&#x201D;&#xFF0C;&#x800C;&#x6211;&#x4EEC;&#x53EA;&#x662F;&#x4E3A;&#x7EBF;&#x7A0B;&#x201D;Thread-demo&#x201D;&#x8BBE;&#x7F6E;&#x4E86;uncaughtExceptionHandler&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x89E3;&#x91CA;&#x4E86;&#x4E3A;&#x4EC0;&#x4E48;&#x6CA1;&#x6709;&#x8D70;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5904;&#x7406;&#x4E86;&#x3002;</p>
<p>2&#x3001;&#x5355;&#x7EBF;&#x7A0B;&#x6267;&#x884C;<br>&#x628A;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x6539;&#x4E3A;task.start()&#x6267;&#x884C;&#xFF0C;&#x518D;debug<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-2b2663e7710812db.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-2b2663e7710812db.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x8FD9;&#x4E00;&#x6B21;&#x5C31;&#x662F;task&#x7EBF;&#x7A0B;&#x672C;&#x8EAB;&#x4E5F;&#x5C31;&#x662F;&#x201D;Thread-demo&#x201D;&#x5728;&#x6267;&#x884C;&#x4E86;&#xFF0C;&#x800C;uncaughtExceptionHandler&#x5C5E;&#x6027;&#x4E5F;&#x5C31;&#x4E0D;&#x4E3A;null&#x3002;</p>
<h1 id="&#x7ED3;&#x8BBA;"><a href="#&#x7ED3;&#x8BBA;" class="headerlink" title="&#x7ED3;&#x8BBA;"></a>&#x7ED3;&#x8BBA;</h1><p>1&#x3001;&#x5982;&#x679C;&#x8BA9;&#x7EBF;&#x7A0B;&#x6C60;&#x6267;&#x884C;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x4E5F;&#x80FD;&#x8D70;&#x81EA;&#x5B9A;&#x4E49;uncaughtExceptionHandler&#xFF0C;&#x53EF;&#x4EE5;&#x5728;task&#x7684;&#x5F00;&#x5934;&#x52A0;&#x4E0A;<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Thread task = new Thread(() -&gt; {</div><div class="line">  Thread.currentThread(). setUncaughtExceptionHandler((<span class="name">t1</span>, e) -&gt; {</div><div class="line">          System.out.println(<span class="string">&quot;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;: &quot;</span> + t1)<span class="comment">;</span></div><div class="line">          System.out.println(<span class="name">e</span>)<span class="comment">;</span></div><div class="line">      })<span class="comment">;</span></div><div class="line"></div><div class="line">          System.out.println(<span class="string">&quot;Before...&quot;</span>)<span class="comment">;</span></div><div class="line">          System.out.println(<span class="number">10</span> / <span class="number">0</span>)<span class="comment">;</span></div><div class="line">          System.out.println(<span class="string">&quot;After...&quot;</span>)<span class="comment">;</span></div><div class="line">      })<span class="comment">;</span></div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;&amp;#x573A;&amp;#x666F;&quot;&gt;&lt;a href=&quot;#&amp;#x573A;&amp;#x666F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x573A;&amp;#x666F;&quot;&gt;&lt;/a&gt;&amp;#x573A;&amp;#x666F;&lt;/h1&gt;&lt;p&gt;&amp;#x6211;&amp;#x4EE
    
    </summary>
    
      <category term="Java" scheme="http://zclau.com/categories/Java/"/>
    
    
      <category term="多线程" scheme="http://zclau.com/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Thread自定义异常处理</title>
    <link href="http://zclau.com/2018/01/25/Thread%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/"/>
    <id>http://zclau.com/2018/01/25/Thread自定义异常处理/</id>
    <published>2018-01-25T08:01:48.000Z</published>
    <updated>2018-01-25T08:03:37.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="&#x80CC;&#x666F;"><a href="#&#x80CC;&#x666F;" class="headerlink" title="&#x80CC;&#x666F;"></a>&#x80CC;&#x666F;</h1><p>&#x5148;&#x6765;&#x770B;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;<br><figure class="highlight livescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Thread t = <span class="keyword">new</span> Thread<span class="function"><span class="params">(() -&gt; {</span></span></div><div class="line">           System.out.println(<span class="string">&quot;Before...&quot;</span>);</div><div class="line">           System.out.println(<span class="number">10</span> / <span class="number">0</span>);</div><div class="line">           System.out.println(<span class="string">&quot;After...&quot;</span>);</div><div class="line">       });</div><div class="line"> <span class="title">t</span>.<span class="title">start</span><span class="params">()</span>;</div></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x662F;&#x4F1A;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x672A;&#x6355;&#x83B7;&#x7684;&#x5F02;&#x5E38;<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-5357159889618f98.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-5357159889618f98.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x5B9E;&#x9645;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x6837;&#x662F;&#x5F88;&#x5371;&#x9669;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x5F53;&#x7EBF;&#x7A0B;&#x9047;&#x5230;&#x8FD9;&#x79CD;&#x672A;&#x6355;&#x83B7;&#x7684;&#x5F02;&#x5E38;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x7ACB;&#x5373;&#x9000;&#x51FA;&#xFF0C;&#x4E0D;&#x4F1A;&#x518D;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x4E4B;&#x540E;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x65E0;&#x6CD5;&#x56DE;&#x6536;&#x4E00;&#x4E9B;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#xFF0C;&#x6216;&#x8005;&#x6CA1;&#x6709;&#x5173;&#x95ED;&#x5F53;&#x524D;&#x7684;&#x8FDE;&#x63A5;&#x7B49;&#x7B49;&#x3002;&#x3002;&#x3002;</p>
<h1 id="&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5904;&#x7406;"><a href="#&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5904;&#x7406;" class="headerlink" title="&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5904;&#x7406;"></a>&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5904;&#x7406;</h1><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4E3A;Thread&#x8BBE;&#x5B9A;<code>UncaughtExceptionHandler</code>,&#x5728;&#x9047;&#x5230;&#x5F02;&#x5E38;&#x4E2D;&#x65AD;&#x65F6;&#xFF0C;&#x4EA4;&#x7531;&#x5B83;&#x6765;&#x5904;&#x7406;</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"> Thread t = <span class="keyword">new</span> Thread<span class="function"><span class="params">(() -&gt; {</span></span></div><div class="line">            System.out.println(<span class="string">&quot;Before...&quot;</span>);</div><div class="line">            System.out.println(<span class="number">10</span> / <span class="number">0</span>);</div><div class="line">            System.out.println(<span class="string">&quot;After...&quot;</span>);</div><div class="line">        });</div><div class="line"></div><div class="line">        <span class="title">t</span>.<span class="title">setUncaughtExceptionHandler</span><span class="params">((t1, e) -&gt; {</span></div><div class="line">            System.out.println(<span class="string">&quot;Exception: &quot;</span> + t1);</div><div class="line">            System.out.println(e);</div><div class="line">        });</div><div class="line"></div><div class="line"><span class="title">t</span>.<span class="title">start</span><span class="params">()</span>;</div></pre></td></tr></table></figure>
<h2 id="UncaughtExceptionHandler"><a href="#UncaughtExceptionHandler" class="headerlink" title="UncaughtExceptionHandler"></a>UncaughtExceptionHandler</h2><p><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-bd763bec2cf92bc3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-bd763bec2cf92bc3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>UncaughtExceptionHandler&#x5728;Thread&#x7C7B;&#x4E0B;&#x5B9A;&#x4E49;&#x7684;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x91CC;&#x9762;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;uncaughtException&#xFF0C;&#x5F53;&#x4E00;&#x4E2A;Thread&#x56E0;&#x4E3A;&#x5F02;&#x5E38;&#x800C;&#x7EC8;&#x6B62;&#x65F6;&#xFF0C;JVM&#x4F1A;&#x89E6;&#x53D1;&#x8C03;&#x7528;dispatchUncaughtException&#x65B9;&#x6CD5;&#xFF0C;<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-ea01aa16f5c221b2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-ea01aa16f5c221b2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x6B64;&#x65B9;&#x6CD5;&#x4F1A;&#x8C03;&#x7528;getUncaughtExceptionHandler&#x53BB;&#x627E;&#x5BF9;&#x5E94;&#x7684;handler<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-db9a27d09e314dad.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-db9a27d09e314dad.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x81EA;&#x5B9A;&#x4E49;UncaughtExceptionHandler&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x4F1A;&#x7531;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x7684;ThreadGroup&#x5BF9;&#x8C61;&#x6765;&#x5904;&#x7406;&#x3002;<br>&#x627E;&#x5230;handler&#x540E;&#xFF0C;&#x628A;&#x5F53;&#x524D;Thread&#x5BF9;&#x8C61;&#x4EE5;&#x53CA;&#x5F02;&#x5E38;Throwable&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x4F20;&#x5165;uncaughtException&#x65B9;&#x6CD5;&#xFF0C;&#x7531;&#x8BE5;&#x65B9;&#x6CD5;&#x6765;&#x5904;&#x7406;&#x8FD9;&#x6B21;&#x5F02;&#x5E38;&#x3002;</p>
<p>&#x6587;&#x7AE0;&#x5F00;&#x5934;&#x4F8B;&#x5B50;&#x7684;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#xFF0C;&#x5C31;&#x662F;&#x7531;ThreadGroup&#x7684;uncaughtException&#x6765;&#x8F93;&#x51FA;&#x90A3;&#x4E00;&#x5806;&#x7684;&#x5F02;&#x5E38;&#x6808;&#x4FE1;&#x606F;&#x3002;</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;a href=&quot;#&amp;#x80CC;&amp;#x666F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;/a&gt;&amp;#x80CC;&amp;#x666F;&lt;/h1&gt;&lt;p&gt;&amp;#x5148;&amp;#x676
    
    </summary>
    
      <category term="Java" scheme="http://zclau.com/categories/Java/"/>
    
    
      <category term="多线程" scheme="http://zclau.com/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>常用JVM Crash分析</title>
    <link href="http://zclau.com/2017/12/29/%E5%B8%B8%E7%94%A8JVM-Crash%E5%88%86%E6%9E%90/"/>
    <id>http://zclau.com/2017/12/29/常用JVM-Crash分析/</id>
    <published>2017-12-29T15:25:21.000Z</published>
    <updated>2017-12-29T15:25:48.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-JVM-&#x7684;Error&#x6587;&#x4EF6;"><a href="#1-JVM-&#x7684;Error&#x6587;&#x4EF6;" class="headerlink" title="1. JVM &#x7684;Error&#x6587;&#x4EF6;"></a>1. JVM &#x7684;Error&#x6587;&#x4EF6;</h1><p>JDK&#x5728;&#x610F;&#x5916;&#x9000;&#x51FA;&#x65F6;&#xFF0C;&#x4F1A;&#x8BE5;&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;&#x76EE;&#x5F55;&#x751F;&#x6210;&#x4E00;&#x4E2A;hs<em>error</em>{PID}.log&#x7684;Error&#x6587;&#x4EF6;&#xFF0C;&#x63D0;&#x4F9B;&#x4E00;&#x4E9B;&#x57FA;&#x672C;&#x7684;&#x4FE1;&#x606F;&#x3002;</p>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">-XX:ErrorFile=${LOGDIR}/hs_err_%p.<span class="keyword">log</span></div></pre></td></tr></table></figure>
<h1 id="2-CoreDump"><a href="#2-CoreDump" class="headerlink" title="2. CoreDump"></a>2. CoreDump</h1><p>&#x5728;&#x542F;&#x52A8;&#x811A;&#x672C;&#x4E2D;&#x52A0;&#x5165;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">ulimit</span> -c unlimited</div></pre></td></tr></table></figure></p>
<p>&#x5728;&#x8FDB;&#x7A0B;&#x610F;&#x5916;&#x9000;&#x51FA;&#x65F6;, &#x5C06;&#x751F;&#x6210;CoreDump&#x6587;&#x4EF6;, &#x5728;&#x8BE5;&#x5E94;&#x7528;&#x7684;&#x6267;&#x884C;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;core.{PID} &#x6587;&#x4EF6;&#x3002;</p>
<p>&#x5982;&#x679C;&#x6CA1;&#x627E;&#x5230;&#xFF0C;&#x8FDB;&#x884C;&#x5168;&#x5C40;&#x641C;&#x7D22;&#x3002;</p>
<figure class="highlight golo"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">find</span> / -name core.* <span class="number">2</span>&gt;/dev/<span class="literal">null</span></div></pre></td></tr></table></figure>
<p>&#x5982;&#x679C;&#x60F3;&#x56FA;&#x5B9A;&#x76EE;&#x5F55;&#xFF0C;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x5185;&#x6838;&#x53C2;&#x6570;&#xFF0C;&#x4FEE;&#x6539;/etc/sysctl.conf&#xFF0C;&#x589E;&#x52A0;</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">kernel.core_pattern=<span class="regexp">/apps/</span>logs<span class="regexp">/core</span></div></pre></td></tr></table></figure>
<p>&#x83B7;&#x5F97;coredump&#x6587;&#x4EF6;&#x540E;&#xFF0C;&#x5FC5;&#x987B;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x4F7F;&#x7528;&#x8FD0;&#x884C;&#x8BE5;&#x5E94;&#x7528;&#x7684;java, &#x53EF;&#x83B7;&#x5F97;&#x4E0B;&#x5217;&#x5185;&#x5BB9;</p>
<ul class="ui list">
<li>&#x83B7;&#x5F97;threaddump</li>
</ul>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">jstack <span class="meta-keyword">/apps/</span>svr<span class="meta-keyword">/jdk/</span>bin/<span class="class">java </span>{coredump_file} &gt; <span class="meta-keyword">/tmp/</span>threaddump.log</div></pre></td></tr></table></figure>
<ul class="ui list">
<li>&#x83B7;&#x5F97;heapdump</li>
</ul>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">jmap -<span class="keyword">dump</span>:format=b,<span class="keyword">file</span>=<span class="regexp">/tmp/</span>heap.hprof <span class="regexp">/apps/</span>svr<span class="regexp">/jdk/</span>bin<span class="regexp">/java {coredump_file}</span></div></pre></td></tr></table></figure>
<ul class="ui list">
<li>gdb&#x5927;&#x6CD5;&#x3002;</li>
</ul>
<h1 id="2-OOM-Killer"><a href="#2-OOM-Killer" class="headerlink" title="2 OOM Killer"></a>2 OOM Killer</h1><figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dmesg | <span class="keyword">grep</span> -i <span class="keyword">kill</span></div></pre></td></tr></table></figure>
<p>&#x53EF;&#x4EE5;&#x770B;&#x770B;&#x6709;&#x65E0;OOM Killer&#x4FE1;&#x606F;</p>
<p>ps.dmesg&#x4E2D;&#x65F6;&#x95F4;&#x6233;&#x7684;&#x8F6C;&#x6362;</p>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">date</span> -d <span class="string">&quot;1970-01-01 UTC `echo &quot;</span>$(<span class="keyword">date</span> +%s)-$(cat /<span class="keyword">proc</span>/uptime|cut -f <span class="number">1</span> -d<span class="string">&apos; &apos;</span>)+{&#x9700;&#x8F6C;&#x6362;&#x7684;&#x65F6;&#x95F4;&#x6233;}<span class="string">&quot;|bc ` seconds&quot;</span></div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;1-JVM-&amp;#x7684;Error&amp;#x6587;&amp;#x4EF6;&quot;&gt;&lt;a href=&quot;#1-JVM-&amp;#x7684;Error&amp;#x6587;&amp;#x4EF6;&quot; class=&quot;headerlink&quot; title=&quot;1. JVM &amp;#x7684;Error&amp;#
    
    </summary>
    
      <category term="Java" scheme="http://zclau.com/categories/Java/"/>
    
    
      <category term="JVM" scheme="http://zclau.com/tags/JVM/"/>
    
  </entry>
  
  <entry>
    <title>常用Heap分析</title>
    <link href="http://zclau.com/2017/12/29/%E5%B8%B8%E7%94%A8Heap%E5%88%86%E6%9E%90/"/>
    <id>http://zclau.com/2017/12/29/常用Heap分析/</id>
    <published>2017-12-29T15:23:31.000Z</published>
    <updated>2017-12-29T15:24:51.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-Heap&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;"><a href="#1-Heap&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;" class="headerlink" title="1. Heap&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;"></a>1. Heap&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;</h1><ul class="ui list">
<li>&#x6253;&#x5370;heap&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x65B0;&#x8001;&#x4EE3;&#x5927;&#x5C0F;&#xFF0C;&#x4F7F;&#x7528;&#x7387;&#x3002;</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">jmap -heap <span class="tag">&lt;<span class="name">PID</span>&gt;</span></div></pre></td></tr></table></figure>
<h1 id="2-&#x5BF9;&#x8C61;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;"><a href="#2-&#x5BF9;&#x8C61;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;" class="headerlink" title="2. &#x5BF9;&#x8C61;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;"></a>2. &#x5BF9;&#x8C61;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;</h1><ul class="ui list">
<li>&#x6253;&#x5370;&#x6240;&#x6709;heap&#x5BF9;&#x8C61;&#x7684;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x5BF9;&#x8C61;&#x7684;&#x4E2A;&#x6570;&#x4E0E;&#x6240;&#x5360;&#x5927;&#x5C0F;&#x3002;</li>
</ul>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// &#x6253;&#x5370;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x7684;&#x4FE1;&#x606F;</span></div><div class="line">jmap -histo PID &gt; <span class="regexp">/tmp/</span>histo.log</div><div class="line"></div><div class="line"><span class="comment">// &#x4EC5;&#x6253;&#x5370;&#x5B58;&#x6D3B;&#x5BF9;&#x8C61;&#x7684;&#x4FE1;&#x606F;</span></div><div class="line">jmap -<span class="string">histo:</span>live PID &gt; <span class="regexp">/tmp/</span>histo-live.log</div></pre></td></tr></table></figure>
<blockquote>
<p>&#x4E0D;&#x8981;&#x968F;&#x4FBF;&#x52A0; -F &#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x80FD;&#x628A;&#x8FDB;&#x7A0B;&#x641E;&#x5D29;&#x6E83;&#xFF0C;&#x4EC5;&#x5F53;JVM&#x5DF2;&#x7ECF;&#x5047;&#x6B7B;&#x72B6;&#x6001;&#xFF0C;&#x624D;&#x7528;-F&#x6700;&#x540E;&#x4E00;&#x640F;&#x3002;live&#x53C2;&#x6570;&#x5B9E;&#x9645;&#x6548;&#x679C;&#x662F;&#x5148;&#x6267;&#x884C;&#x4E00;&#x6B21;Full GC&#x6E05;&#x7406;&#x6389;&#x5DF2;&#x7ECF;&#x8FC7;&#x671F;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x56E0;&#x6B64;&#x8981;&#x6CE8;&#x610F;&#x5BF9;&#x7EBF;&#x4E0A;&#x4E1A;&#x52A1;&#x7684;&#x8D85;&#x65F6;&#x5F71;&#x54CD;&#xFF0C;&#x5C3D;&#x91CF;&#x6458;&#x6D41;&#x91CF;&#x6267;&#x884C;&#x3002;</p>
</blockquote>
<ul class="ui list">
<li>&#x6253;&#x5370;&#x5404;&#x4E2A;&#x5206;&#x4EE3;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#xFF0C;&#x89C1;<a href="https://github.com/alibaba/TBJMap" target="_blank" rel="external">TBJMap</a> </li>
</ul>
<h1 id="3-&#x83B7;&#x53D6;HeapDump"><a href="#3-&#x83B7;&#x53D6;HeapDump" class="headerlink" title="3. &#x83B7;&#x53D6;HeapDump"></a>3. &#x83B7;&#x53D6;HeapDump</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// &#x83B7;&#x53D6;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x7684;dump</span></div><div class="line">jmap -dump:format=<span class="selector-tag">b</span>,file=/tmp/heap<span class="selector-class">.hprof</span> &lt;PID&gt;</div><div class="line"></div><div class="line"><span class="comment">// &#x83B7;&#x53D6;&#x5B58;&#x6D3B;&#x5BF9;&#x8C61;&#x7684;dump&#xFF0C;&#x5B9E;&#x9645;&#x6548;&#x679C;&#x662F;&#x5148;&#x6267;&#x884C;&#x4E00;&#x6B21;FULL GC</span></div><div class="line">jmap -dump:live,format=<span class="selector-tag">b</span>,file=/tmp/heap-live<span class="selector-class">.hprof</span> &lt;PID&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>heap dump&#x4F1A;&#x9020;&#x6210;JVM&#x6BD4;&#x8F83;&#x957F;&#x65F6;&#x95F4;&#x7684;&#x505C;&#x987F;&#xFF0C;&#x5FC5;&#x987B;&#x6458;&#x6D41;&#x91CF;&#x6267;&#x884C;</p>
</blockquote>
<p>dump&#x6587;&#x4EF6;&#x4E00;&#x5B9A;&#x8981;zip&#x540E;&#x518D;&#x4F20;&#x8F93;&#xFF0C;&#x8282;&#x7EA6;&#x4E0D;&#x5C11;&#x65F6;&#x95F4;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tar -zcf /tmp/heap<span class="selector-class">.hprof</span><span class="selector-class">.gz</span> /tmp/heap.hprof</div></pre></td></tr></table></figure>
<h1 id="4-&#x5206;&#x6790;HeapDump"><a href="#4-&#x5206;&#x6790;HeapDump" class="headerlink" title="4. &#x5206;&#x6790;HeapDump"></a>4. &#x5206;&#x6790;HeapDump</h1><p>&#x4F7F;&#x7528;JDK&#x81EA;&#x5E26;&#x7684;VisaulVM(&#x4EE5;jvisualvm&#x542F;&#x52A8;)&#x6216;Eclipse&#x7684;MAT&#x5747;&#x53EF;</p>
<p>&#x7559;&#x610F;&#x5BF9;&#x8C61;&#x6709;&#x4E24;&#x4E2A;&#x5927;&#x5C0F;&#xFF0C;&#x5F88;&#x591A;&#x65F6;&#x5019;<code>Retained Size</code>&#x66F4;&#x6709;&#x610F;&#x4E49;&#xFF1A;</p>
<ul class="ui list">
<li>&#x672C;&#x8EAB;&#x5927;&#x5C0F;(Shallow Size)&#xFF1A;&#x5BF9;&#x8C61;&#x672C;&#x6765;&#x7684;&#x5927;&#x5C0F;&#x3002;</li>
<li>&#x4FDD;&#x7559;&#x5927;&#x5C0F;(Retained Size)&#xFF1A; &#x5F53;&#x524D;&#x5BF9;&#x8C61;&#x5927;&#x5C0F; + &#x5F53;&#x524D;&#x5BF9;&#x8C61;&#x76F4;&#x63A5;&#x6216;&#x95F4;&#x63A5;&#x5F15;&#x7528;&#x5230;&#x7684;&#x5BF9;&#x8C61;&#x7684;&#x5927;&#x5C0F;&#x603B;&#x548C;&#x3002;</li>
</ul>
<p>&#x6CE8;&#x610F;&#xFF0C;Eclipse MAT&#x5206;&#x6790;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x770B;&#x5230;&#x975E;&#x5B58;&#x6D3B;&#x72B6;&#x6001;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x9700;&#x8981;&#x7279;&#x522B;&#x52FE;&#x9009;&#x3002;</p>
<h1 id="5-&#x5206;&#x6790;HeapDump&#x8FDB;&#x9636;"><a href="#5-&#x5206;&#x6790;HeapDump&#x8FDB;&#x9636;" class="headerlink" title="5. &#x5206;&#x6790;HeapDump&#x8FDB;&#x9636;"></a>5. &#x5206;&#x6790;HeapDump&#x8FDB;&#x9636;</h1><p>&#x4F7F;&#x7528;OQL&#x8FDB;&#x884C;&#x9AD8;&#x7EA7;&#x67E5;&#x8BE2;&#x3002;</p>
<ul class="ui list">
<li><a href="https://visualvm.github.io/documentation.html" target="_blank" rel="external">VisualVM&#x7684;OQL&#x8BED;&#x6CD5;</a></li>
</ul>
<h1 id="6-Out-Of-Memory&#x65F6;&#x81EA;&#x52A8;HeapDump"><a href="#6-Out-Of-Memory&#x65F6;&#x81EA;&#x52A8;HeapDump" class="headerlink" title="6. Out Of Memory&#x65F6;&#x81EA;&#x52A8;HeapDump"></a>6. Out Of Memory&#x65F6;&#x81EA;&#x52A8;HeapDump</h1><p>OOM&#x65F6;&#x751F;&#x6210;HeapDump&#x6587;&#x4EF6;.<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">-<span class="string">XX:</span>+HeapDumpOnOutOfMemoryError -<span class="string">XX:</span>HeapDumpPath=${LOGDIR}/</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;1-Heap&amp;#x7EDF;&amp;#x8BA1;&amp;#x4FE1;&amp;#x606F;&quot;&gt;&lt;a href=&quot;#1-Heap&amp;#x7EDF;&amp;#x8BA1;&amp;#x4FE1;&amp;#x606F;&quot; class=&quot;headerlink&quot; title=&quot;1. Heap&amp;#x7EDF;&amp;
    
    </summary>
    
      <category term="Java" scheme="http://zclau.com/categories/Java/"/>
    
    
      <category term="JVM" scheme="http://zclau.com/tags/JVM/"/>
    
  </entry>
  
  <entry>
    <title>Gson ParameterizedTypeImpl初始化校验参数失败问题</title>
    <link href="http://zclau.com/2017/12/22/Gson-ParameterizedTypeImpl%E5%88%9D%E5%A7%8B%E5%8C%96%E6%A0%A1%E9%AA%8C%E5%8F%82%E6%95%B0%E5%A4%B1%E8%B4%A5%E9%97%AE%E9%A2%98/"/>
    <id>http://zclau.com/2017/12/22/Gson-ParameterizedTypeImpl初始化校验参数失败问题/</id>
    <published>2017-12-22T14:32:26.000Z</published>
    <updated>2017-12-26T02:12:46.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="&#x95EE;&#x9898;&#x80CC;&#x666F;"><a href="#&#x95EE;&#x9898;&#x80CC;&#x666F;" class="headerlink" title="&#x95EE;&#x9898;&#x80CC;&#x666F;"></a>&#x95EE;&#x9898;&#x80CC;&#x666F;</h1><p>&#x4ECA;&#x5929;&#x5728;&#x5BF9;&#x67D0;&#x4E2A;&#x63A5;&#x53E3;&#x505A;junit&#x6D4B;&#x8BD5;&#x65F6;&#xFF0C;&#x62A5;&#x5982;&#x4E0B;&#x9519;&#x8BEF;</p>
<p><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-c33bef422e7f3680.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-c33bef422e7f3680.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x7684;&#x672C;&#x8D28;&#x5C31;&#x662F;&#xFF1A;&#x67D0;&#x4E2A;bean&#x5728;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x4F7F;&#x7528;&#x4E86;gson&#x505A;&#x53C2;&#x6570;&#x7C7B;&#x578B;&#x6620;&#x5C04;&#xFF0C; &#x65D7;&#x4E0B;ParameterizedTypeImpl &#x89E3;&#x6790;&#x6CDB;&#x578B;&#x6570;&#x636E;&#x65F6;&#x51FA;&#x9519;&#xFF0C;&#x5BFC;&#x81F4;&#x521B;&#x5EFA;bean&#x5931;&#x8D25;&#xFF0C;&#x4ECE;&#x800C;&#x5BFC;&#x81F4;spring &#x5BB9;&#x5668;&#x542F;&#x52A8;&#x5931;&#x8D25;</p>
<p>&#x800C;&#x5947;&#x602A;&#x7684;&#x662F;&#xFF0C;&#x901A;&#x8FC7;gradle&#x6253;&#x5305;&#x8FD0;&#x884C;&#x5374;&#x662F;&#x6B63;&#x5E38;&#x7684;&#xFF0C;&#x4F46;&#x8DD1;junit&#x6D4B;&#x8BD5;&#x5374;&#x4E00;&#x76F4;&#x62A5;&#x9519;&#x3002;</p>
<h1 id="&#x5206;&#x6790;"><a href="#&#x5206;&#x6790;" class="headerlink" title="&#x5206;&#x6790;"></a>&#x5206;&#x6790;</h1><p>&#x4ECE;&#x5806;&#x6808;&#x9519;&#x8BEF;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x662F;&#x5728;&#x521D;&#x59CB;&#x5316;ParameterizedTypeImpl&#x65F6;&#xFF0C;&#x8C03;&#x7528;checkArgument&#x65B9;&#x6CD5;&#x65F6;&#x62A5;&#x9519;&#xFF0C; &#x8FD9;&#x65F6;&#x7528;&#x7684;gson&#x7248;&#x672C;&#x662F;2.2.2&#x3002;&#x627E;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x6E90;&#x7801;&#x4F4D;&#x7F6E;<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-5b841939f074f386.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-5b841939f074f386.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x7136;&#x540E;&#x518D;&#x6765;&#x770B;&#x770B;&#x5BA2;&#x6237;&#x7AEF;&#x521D;&#x59CB;&#x5316;ParameterizedTypeImpl&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#xFF1A;<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-72b8836e2f0b8418.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-72b8836e2f0b8418.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<ul class="ui list">
<li>ownerType&#x662F;null</li>
<li>rawType&#x662F;ClientService&#x7C7B;&#x4E0B;&#x7684;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x5185;&#x90E8;&#x7C7B;Response</li>
</ul>
<p>&#x7B2C;&#x4E00;&#x4E2A;checkArgument&#x6821;&#x9A8C;&#xFF0C;ownerType&#x4E0D;&#x4E3A;null&#x6216;&#x8005;rawType&#x4E0D;&#x662F;&#x5185;&#x90E8;&#x7C7B;&#x7684;&#x6761;&#x4EF6;&#x660E;&#x663E;&#x4E0D;&#x6EE1;&#x8DB3;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x662F;&#x5728;&#x8FD9;&#x91CC;&#x629B;&#x7684;illegalArgumentException&#x3002;</p>
<p>&#x901A;&#x8FC7;gradle&#x6253;&#x5305;&#x65B9;&#x5F0F;&#x8FD0;&#x884C;&#xFF0C;&#x53D1;&#x73B0;&#x4F7F;&#x7528;&#x7684;&#x662F;gson 2.8.0&#xFF08;&#x8FD9;&#x91CC;&#x6CE8;&#x610F;&#x4E00;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x7CFB;&#x7EDF;&#x540C;&#x65F6;&#x5B58;&#x5728;2.2.2&#xFF0C; 2.6.2&#x4EE5;&#x53CA;2.8.0&#x7248;&#x672C;&#x7684;gson&#xFF0C;gralde&#x89E3;&#x51B3;&#x7248;&#x672C;&#x51B2;&#x7A81;&#x7684;&#x7B56;&#x7565;&#x662F;&#x9009;&#x53D6;&#x6700;&#x65B0;&#x7684;&#x90A3;&#x4E2A;&#x7248;&#x672C;&#xFF09;&#xFF0C;&#x6CA1;&#x6709;&#x629B;&#x9519;&#xFF0C;&#x800C;2.8.0&#x5BF9;&#x5E94;ParameterizedTypeImpl&#x521D;&#x59CB;&#x5316;&#x7684;&#x4EE3;&#x7801;<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-ec31e8288b975523.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-ec31e8288b975523.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;2.8.0&#x5BF9;&#x5E94;&#x7684;&#x6821;&#x9A8C;&#x6761;&#x4EF6;&#x53D1;&#x751F;&#x4E86;&#x53D8;&#x5316;&#xFF1A;</p>
<ul class="ui list">
<li>ownerType&#x4E0D;&#x4E3A;null &#x6216;</li>
<li>rawType&#x662F;&#x9759;&#x6001;&#x7C7B;&#xFF0C;&#x6216;&#x8005;&#x4E0D;&#x662F;&#x5185;&#x90E8;&#x7C7B;</li>
</ul>
<p>&#x6211;&#x4EEC;&#x7684;Response&#x7C7B;&#x662F;&#x9759;&#x6001;&#x7C7B;&#xFF0C;&#x6240;&#x4EE5;&#x901A;&#x8FC7;&#x6821;&#x9A8C;&#xFF0C;&#x6CA1;&#x6709;&#x62A5;&#x9519;&#x3002;</p>
<h1 id="&#x89E3;&#x51B3;&#x529E;&#x6CD5;"><a href="#&#x89E3;&#x51B3;&#x529E;&#x6CD5;" class="headerlink" title="&#x89E3;&#x51B3;&#x529E;&#x6CD5;"></a>&#x89E3;&#x51B3;&#x529E;&#x6CD5;</h1><ul class="ui list">
<li>&#x5F3A;&#x5236;&#x4F7F;&#x7528;gson 2.8.0&#xFF0C;&#x5177;&#x4F53;&#x53C2;&#x8003; <a href="https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.ResolutionStrategy.html" target="_blank" rel="external">Gradle ResolutionStrategy</a></li>
</ul>
<h1 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h1><ul class="ui list">
<li>ParameterizedTypeImpl&#x521D;&#x59CB;&#x5316;&#x4ECE;2.3.0&#x7248;&#x672C;&#x5F00;&#x59CB;&#x66F4;&#x6539;&#x4E86;&#x6821;&#x9A8C;&#x53C2;&#x6570;&#x7684;&#x65B9;&#x5F0F;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x5019;&#x53D1;&#x73B0;&#x51FA;&#x73B0;&#x53C2;&#x6570;&#x6821;&#x9A8C;&#x5F02;&#x5E38;&#xFF0C;&#x5E76;&#x4E14;&#x4F7F;&#x7528;&#x7684;&#x662F;2.2.2&#x53CA;&#x4E4B;&#x524D;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x5347;&#x7EA7;gson&#x7248;&#x672C;</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;&amp;#x95EE;&amp;#x9898;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;a href=&quot;#&amp;#x95EE;&amp;#x9898;&amp;#x80CC;&amp;#x666F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x95EE;&amp;#x9898;&amp;#x80CC;&amp;#x6
    
    </summary>
    
      <category term="Java" scheme="http://zclau.com/categories/Java/"/>
    
    
      <category term="Gson" scheme="http://zclau.com/tags/Gson/"/>
    
  </entry>
  
  <entry>
    <title>Jmeter分布式压测</title>
    <link href="http://zclau.com/2017/12/08/Jmeter%E5%88%86%E5%B8%83%E5%BC%8F%E5%8E%8B%E6%B5%8B/"/>
    <id>http://zclau.com/2017/12/08/Jmeter分布式压测/</id>
    <published>2017-12-08T06:43:43.000Z</published>
    <updated>2017-12-08T06:44:49.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>&#x8FDB;&#x884C;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x5355;&#x53F0;&#x673A;&#x5668;&#x6A21;&#x62DF;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x91CF;&#x6709;&#x9650;&#xFF0C;&#x5E0C;&#x671B;&#x7528;&#x591A;&#x53F0;&#x8D1F;&#x8F7D;&#x673A;&#x8FDB;&#x884C;&#x8D1F;&#x8F7D;&#x6A21;&#x62DF;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x591A;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x5206;&#x522B;&#x90E8;&#x7F72;Jmeter&#xFF0C;&#x7136;&#x540E;&#x7528;&#x5176;&#x4E2D;&#x4E00;&#x53F0;&#x505A;master&#xFF0C;&#x63A7;&#x5236;&#x5176;&#x4ED6;slave&#x5B9E;&#x4F8B;&#x4EA7;&#x751F;&#x8D1F;&#x8F7D;&#x3002;</p>
</blockquote>
<h1 id="step-one"><a href="#step-one" class="headerlink" title="step one"></a>step one</h1><p>&#x90E8;&#x7F72;&#x8282;&#x70B9;&#xFF1A;&#x5047;&#x8BBE;&#x6211;&#x90E8;&#x7F72;&#x4E86;&#x4E09;&#x53F0;&#xFF0C;&#x5206;&#x522B;10.199.206.76&#x3001;10.199.147.249&#x3001;10.199.205.113<br>&#x9996;&#x5148;&#x786E;&#x4FDD;&#x6240;&#x6709;&#x8282;&#x70B9;&#xFF1A;<br>&#x8FD0;&#x884C;&#x76F8;&#x540C;&#x7248;&#x672C;&#x7684;Jmeter<br>&#x8FD0;&#x884C;&#x76F8;&#x540C;&#x7248;&#x672C;&#x7684;jdk<br>&#x5982;&#x679C;&#x9700;&#x8981;&#x7528;&#x5230;&#x989D;&#x5916;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF0C;&#x4F8B;&#x5982;&#x6211;&#x7684;&#x4F8B;&#x5B50;&#x9700;&#x8981;&#x7528;&#x5230;&#x81EA;&#x5B9A;&#x4E49;Java Sampler&#x4EE5;&#x53CA;&#x5916;&#x90E8;properties&#xFF0C;&#x6BCF;&#x4E2A;&#x5B9E;&#x4F8B;&#x9700;&#x8981;&#x5404;&#x6765;&#x4E00;&#x4EFD;&#x3002;<br>master&#x8FD8;&#x9700;&#x8981;&#x4FDD;&#x5B58;&#x4E00;&#x4EFD;xxx.jmx&#x6D4B;&#x8BD5;&#x811A;&#x672C;</p>
<p>&#x5982;&#x4F55;&#x7F16;&#x5199;&#x81EA;&#x5B9A;&#x4E49;Java Sampler&#x53EF;&#x53C2;&#x770B; </p>
<p><a href="http://www.jianshu.com/p/f18b69c68459" target="_blank" rel="external">Jmeter&#x4F7F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;Java&#x4EE3;&#x7801;&#x538B;&#x6D4B;</a></p>
<h1 id="step-two-&#xFF08;optional&#xFF09;"><a href="#step-two-&#xFF08;optional&#xFF09;" class="headerlink" title="step two &#xFF08;optional&#xFF09;"></a>step two &#xFF08;optional&#xFF09;</h1><p>&#x914D;&#x7F6E;&#x8282;&#x70B9;&#xFF1A;<br>&#x8FD9;&#x91CC;&#x6211;&#x9009;&#x62E9;10.199.206.76&#x505A;master&#xFF0C;10.199.147.249&#x3001;10.199.205.113&#x4F5C;&#x4E3A;slave<br>&#x5728;master&#x7684;$JMETER_HOME/bin/jmeter.properties&#x7684; remote_hosts&#x5C5E;&#x6027;&#x540E;&#x914D;&#x7F6E;<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-676cce21bd7aa0ef.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-676cce21bd7aa0ef.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>#step three<br>&#x542F;&#x52A8;slave<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-66db6dbcecbee800.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-66db6dbcecbee800.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x7136;&#x540E;&#x68C0;&#x67E5;&#x4E00;&#x4E0B;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#xFF1A;<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-ffc8094fd02629f8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-ffc8094fd02629f8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x68C0;&#x67E5;&#x65E5;&#x5FD7;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F1A;&#x5728;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x5199;&#x65E5;&#x5FD7;<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-097cb5e688f46bc1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-097cb5e688f46bc1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x6709;&#x4EE5;&#x4E0A;&#x8F93;&#x51FA;&#xFF0C;&#x6CA1;&#x6709;&#x62A5;&#x9519;&#xFF0C;&#x8BC1;&#x660E;slave&#x542F;&#x52A8;&#x6210;&#x529F;</p>
<h1 id="step-four"><a href="#step-four" class="headerlink" title="step four"></a>step four</h1><p>&#x542F;&#x52A8;master&#x8FDB;&#x884C;&#x538B;&#x6D4B;&#xFF0C;&#x6709;&#x4E24;&#x79CD;&#x542F;&#x52A8;&#x65B9;&#x5F0F;<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-33250028bec43497.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-33250028bec43497.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x6216;</p>
<p><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-6ad1757cdba3b445.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-6ad1757cdba3b445.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x679C;step two &#x6CA1;&#x6709;&#x914D;&#x7F6E; remote_hosts&#xFF0C;&#x5C31;&#x5FC5;&#x987B;&#x7528;&#x7B2C;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#xFF0C;&#x901A;&#x8FC7;-R &#x6307;&#x5B9A;slave</p>
<p>&#x7136;&#x540E;master&#x5C31;&#x4F1A;&#x53D1;&#x9001;&#x6307;&#x4EE4;&#x7ED9;slave&#x6267;&#x884C;&#x5B9E;&#x9645;&#x7684;&#x538B;&#x6D4B;&#xFF0C;&#x7136;&#x540E;&#x4F1A;&#x7B49;&#x5F85;&#x63A5;&#x6536;slave&#x538B;&#x6D4B;&#x7684;&#x7ED3;&#x679C;<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-68bffc4c5f7cd527.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-68bffc4c5f7cd527.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<h1 id="&#x7ED3;&#x679C;&#x89E3;&#x8BFB;"><a href="#&#x7ED3;&#x679C;&#x89E3;&#x8BFB;" class="headerlink" title="&#x7ED3;&#x679C;&#x89E3;&#x8BFB;"></a>&#x7ED3;&#x679C;&#x89E3;&#x8BFB;</h1><p>46303 in 00:00:15 = 3134.7/s &#x8868;&#x793A; &#x5728;15&#x79D2;&#x5185;&#x53D1;&#x9001;46303&#x6761;&#x8BF7;&#x6C42;&#xFF0C;&#x5E73;&#x5747;&#x6BCF;&#x79D2;&#x5904;&#x7406;3134&#x6761;<br>Avg&#xFF1A;504 &#x8868;&#x793A;&#x5E73;&#x5747;&#x54CD;&#x5E94;&#x65F6;&#x95F4; 504ms<br>Min&#xFF1A;3  &#x8868;&#x793A;&#x6700;&#x5C0F;&#x54CD;&#x5E94;&#x65F6;&#x95F4;3ms<br>Max&#xFF1A;14524 &#x8868;&#x793A;&#x6700;&#x957F;&#x54CD;&#x5E94;&#x65F6;&#x95F4;14524ms</p>
<h1 id="&#x53C2;&#x8003;"><a href="#&#x53C2;&#x8003;" class="headerlink" title="&#x53C2;&#x8003;"></a>&#x53C2;&#x8003;</h1><p><a href="http://jmeter.apache.org/usermanual/remote-test.html" target="_blank" rel="external">http://jmeter.apache.org/usermanual/remote-test.html</a></p>
<p><a href="https://jmeter.apache.org/usermanual/jmeter_distributed_testing_step_by_step.pdf" target="_blank" rel="external">https://jmeter.apache.org/usermanual/jmeter_distributed_testing_step_by_step.pdf</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x6027;&amp;#x80FD;&amp;#x6D4B;&amp;#x8BD5;&amp;#x65F6;&amp;#xFF0C;&amp;#x7531;&amp;#x4E8E;&amp;#x5355;&amp;#x53F0;&amp;#x673A;&amp;#x5668;&amp;#x6A21;&amp;#x6
    
    </summary>
    
      <category term="性能测试" scheme="http://zclau.com/categories/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"/>
    
    
      <category term="Jmeter" scheme="http://zclau.com/tags/Jmeter/"/>
    
  </entry>
  
  <entry>
    <title>Jmeter使用自定义Java代码压测</title>
    <link href="http://zclau.com/2017/11/30/Jmeter%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89Java%E4%BB%A3%E7%A0%81%E5%8E%8B%E6%B5%8B/"/>
    <id>http://zclau.com/2017/11/30/Jmeter使用自定义Java代码压测/</id>
    <published>2017-11-30T03:27:13.000Z</published>
    <updated>2017-11-30T03:27:36.000Z</updated>
    
    <content type="html"><![CDATA[<p>Jmeter&#x6709;&#x51E0;&#x79CD;Sampler&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x7528;&#x81EA;&#x5B9A;&#x4E49;Java&#x4EE3;&#x7801;&#x6765;&#x8FDB;&#x884C;&#x538B;&#x6D4B;&#xFF0C;&#x5C31;&#x8981;&#x4F7F;&#x7528;Java Sampler&#x3002;</p>
<p>&#x90A3;&#x4E48;&#x5982;&#x4F55;&#x7F16;&#x5199;Java Sampler&#xFF0C;&#x5E76;&#x5F15;&#x5165;&#x5230;jmeter&#x8FDB;&#x884C;&#x538B;&#x6D4B;&#x5462;&#xFF1F;&#x5F88;&#x7B80;&#x5355;</p>
<h1 id="step-one"><a href="#step-one" class="headerlink" title="step one"></a>step one</h1><p>&#x9996;&#x5148;&#x9700;&#x8981;&#x5F15;&#x5165;&#x4F9D;&#x8D56;<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;dependency&gt;</div><div class="line">    &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;</div><div class="line">    &lt;artifactId&gt;ApacheJMeter_java&lt;/artifactId&gt;</div><div class="line">    &lt;version&gt;3.3&lt;/version&gt;</div><div class="line">    &lt;scope&gt;provided&lt;/scope&gt;</div><div class="line">&lt;/dependency&gt;</div></pre></td></tr></table></figure></p>
<blockquote>
<p>&#x8FD9;&#x91CC;&#x53EA;&#x662F;&#x7F16;&#x8BD1;&#x65F6;&#x9700;&#x8981;&#x7528;&#x5230;&#xFF0C;&#x5B9E;&#x9645;&#x8FD0;&#x884C;&#x65F6;&#x4EE3;&#x7801;&#x4F1A;&#x653E;&#x5728; ${JMETER_HOME}/lib/ext &#x4E0B;&#xFF0C;${JMETER_HOME}/lib &#x4E0B;&#x5DF2;&#x7ECF;&#x6709;&#x5BF9;&#x5E94;&#x4F9D;&#x8D56;&#x4E86;&#xFF0C;&#x6240;&#x4EE5; &#x8FD9;&#x91CC; scope&#x8BBE;&#x7F6E;&#x4E3A;provided&#x5373;&#x53EF;&#x3002;</p>
</blockquote>
<h1 id="step-two"><a href="#step-two" class="headerlink" title="step two"></a>step two</h1><p>&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7F16;&#x5199;&#x6D4B;&#x8BD5;&#x4EE3;&#x7801;&#x4E86;<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SdkTest</span> <span class="keyword">extends</span> <span class="title">AbstractJavaSamplerClient</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>{</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Logger logger = LoggerFactory.getLogger(SdkTest.class);</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ConfigCenter configCenter = ConfigCenterFactory.getConfigCenter();</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * &#x81EA;&#x5B9A;&#x4E49;java&#x65B9;&#x6CD5;&#x5165;&#x53C2;&#x7684;, &#x8BBE;&#x7F6E;&#x53EF;&#x7528;&#x53C2;&#x6570;&#x53CA;&#x9ED8;&#x8BA4;&#x503C;</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> Arguments <span class="title">getDefaultParameters</span><span class="params">()</span> </span>{</div><div class="line">        Arguments params = <span class="keyword">new</span> Arguments();</div><div class="line">        params.addArgument(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;&quot;</span>);</div><div class="line">        params.addArgument(<span class="string">&quot;tag&quot;</span>, <span class="string">&quot;&quot;</span>);</div><div class="line"></div><div class="line">        <span class="keyword">return</span> params;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * &#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x6D4B;&#x8BD5;&#x524D;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#x505A;&#x4E00;&#x4E9B;&#x521D;&#x59CB;&#x5316;&#x5DE5;&#x4F5C;&#xFF1B;</div><div class="line">     * <span class="doctag">@param</span> context</div><div class="line">     */</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setupTest</span><span class="params">(JavaSamplerContext context)</span> </span>{</div><div class="line">       <span class="keyword">super</span>.setupTest(context);</div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * &#x5F00;&#x59CB;&#x6D4B;&#x8BD5;&#xFF0C;&#x4ECE;args&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x83B7;&#x5F97;&#x53C2;&#x6570;&#x503C;&#xFF1B;</div><div class="line">     * <span class="doctag">@param</span> args</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> SampleResult <span class="title">runTest</span><span class="params">(JavaSamplerContext args)</span> </span>{</div><div class="line">        String name = args.getParameter(<span class="string">&quot;name&quot;</span>);</div><div class="line">        String tag = args.getParameter(<span class="string">&quot;tag&quot;</span>);</div><div class="line"></div><div class="line">        SampleResult result = <span class="keyword">new</span> SampleResult();</div><div class="line"></div><div class="line">        <span class="keyword">try</span> {</div><div class="line">            result.sampleStart();</div><div class="line"></div><div class="line">            </div><div class="line">            <span class="comment">//&#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x81EA;&#x5B9A;&#x4E49;&#x538B;&#x6D4B;&#x7684;&#x4EE3;&#x7801;</span></div><div class="line">            .........</div><div class="line">            ..........</div><div class="line">            ..........</div><div class="line">            </div><div class="line">            <span class="comment">//&#x8BF7;&#x6C42;&#x6210;&#x529F;&#xFF0C;&#x8BBE;&#x7F6E;&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;&#x4E3A;&#x6210;&#x529F;</span></div><div class="line">            result.setSuccessful(<span class="keyword">true</span>);</div><div class="line">        } <span class="keyword">catch</span> (Exception e) {</div><div class="line">            result.setSuccessful(<span class="keyword">false</span>);</div><div class="line">            e.printStackTrace();</div><div class="line">        } <span class="keyword">finally</span> {</div><div class="line">            result.sampleEnd();</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">teardownTest</span><span class="params">(JavaSamplerContext context)</span> </span>{</div><div class="line">        <span class="keyword">super</span>.teardownTest(context);</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure></p>
<blockquote>
<p>&#x9700;&#x8981;&#x6CE8;&#x610F;&#xFF1A;Sampler&#x7C7B;&#x9700;&#x8981;&#x6269;&#x5C55;JMeter&#x7684;&#x7C7B;org.apache.jmeter.protocol.java.sampler.AbstractJavaSamplerClient &#x6216; &#x5B9E;&#x73B0; org.apache.jmeter.protocol.java.sampler.JavaSamplerClient&#x63A5;&#x53E3;</p>
</blockquote>
<h1 id="step-three"><a href="#step-three" class="headerlink" title="step three"></a>step three</h1><p>&#x7F16;&#x5199;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x901A;&#x8FC7; mvn package &#x6253;&#x6210;&#x4E00;&#x4E2A;jar&#x5305;&#xFF0C;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#xFF0C;&#x6211;&#x8FD9;&#x91CC;&#x6253;&#x6210;&#x7684;&#x662F;&#x4E00;&#x4E2A;fat&#x5305;&#xFF0C;&#x7136;&#x540E;&#x8BB2;&#x5176;&#x653E;&#x8FDB; $JMETER_HOME/lib/ext&#x76EE;&#x5F55;&#x4E0B;</p>
<h1 id="step-four"><a href="#step-four" class="headerlink" title="step four"></a>step four</h1><p>&#x6253;&#x5F00;Jmeter&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;Java Request<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-176d4d6732d414c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-176d4d6732d414c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x7136;&#x540E;&#x5C31;&#x80FD;&#x770B;&#x5230;&#x521A;&#x624D;&#x7F16;&#x5199;&#x7684;Sampler&#x7C7B;&#x4E86;<br><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-6c5514d3ee932347.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-6c5514d3ee932347.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x7EA2;&#x8272;&#x6846;&#x5904;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x6D4B;&#x8BD5;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x521A;&#x624D;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x4F8B;&#x5B50;&#x4E2D;&#x7684;runTest&#x65B9;&#x6CD5;&#x4E2D;&#xFF0C;&#x5C31;&#x53EF;&#x7528;&#x901A;&#x8FC7;JavaSamplerContext&#x6765;&#x83B7;&#x53D6;&#x8FD9;&#x4E9B;&#x8F93;&#x5165;</p>
<p>&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x5F00;&#x5FC3;&#x5730;&#x8FDB;&#x884C;&#x538B;&#x6D4B;&#x4E86;</p>
<h3 id="&#x5751;"><a href="#&#x5751;" class="headerlink" title="&#x5751;"></a>&#x5751;</h3><p>1&#x3001;&#x5982;&#x679C;Sampler&#x4EE3;&#x7801;&#x9700;&#x8981;&#x83B7;&#x53D6;&#x5916;&#x90E8;&#x914D;&#x7F6E;&#x7684;&#x8BDD;&#xFF0C;&#x4F8B;&#x5982;&#x9700;&#x8981;&#x914D;&#x7F6E;zk server&#x3001;host&#x7B49;&#x914D;&#x7F6E;&#xFF0C;&#x800C;&#x8FD9;&#x4E9B;&#x914D;&#x7F6E;&#x662F;&#x5728;&#x5916;&#x90E8;properties&#x4E2D;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x542F;&#x52A8;jmeter&#x7684;&#x65F6;&#x5019;&#x52A0;&#x4E0A;<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sh jmeter<span class="selector-class">.sh</span> -Dcom<span class="selector-class">.vipshop</span><span class="selector-class">.mobile</span><span class="selector-class">.serconfig</span>=./configcenter.properties</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Jmeter&amp;#x6709;&amp;#x51E0;&amp;#x79CD;Sampler&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x60F3;&amp;#x7528;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Java&amp;#x4EE3;&amp;#x7801;&amp;#x6765;&amp;#x8FDB;
    
    </summary>
    
      <category term="性能测试" scheme="http://zclau.com/categories/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"/>
    
    
      <category term="Jmeter" scheme="http://zclau.com/tags/Jmeter/"/>
    
  </entry>
  
  <entry>
    <title>性能测试关注的指标</title>
    <link href="http://zclau.com/2017/11/29/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%85%B3%E6%B3%A8%E7%9A%84%E6%8C%87%E6%A0%87/"/>
    <id>http://zclau.com/2017/11/29/性能测试关注的指标/</id>
    <published>2017-11-29T14:32:02.000Z</published>
    <updated>2017-11-30T03:26:11.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x65F6;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5173;&#x6CE8;&#x7684;&#x6307;&#x6807;"><a href="#&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x65F6;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5173;&#x6CE8;&#x7684;&#x6307;&#x6807;" class="headerlink" title="&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x65F6;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5173;&#x6CE8;&#x7684;&#x6307;&#x6807;"></a>&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x65F6;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5173;&#x6CE8;&#x7684;&#x6307;&#x6807;</h3><ul class="ui list">
<li><p>RT&#xFF1A;&#x54CD;&#x5E94;&#x65F6;&#x95F4;</p>
</li>
<li><p>TPS&#xFF1A;&#x6BCF;&#x79D2;&#x5B8C;&#x6210;&#x4E8B;&#x52A1;&#x6570;</p>
</li>
<li><p>CPU&#x6027;&#x80FD;&#x6307;&#x6807;&#xFF1A;&#x5229;&#x7528;&#x7387;&#x3001;&#x8D1F;&#x8F7D;</p>
</li>
<li><p>Mem&#xFF1A;&#x5185;&#x5B58;&#x6027;&#x80FD;&#x6307;&#x6807;&#xFF0C;&#x53EF;&#x7528;&#x7269;&#x7406;&#x5185;&#x5B58;&#x3001;&#x865A;&#x62DF;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x7387;</p>
</li>
<li><p>Disk&#xFF1A;&#x78C1;&#x76D8;&#x6027;&#x80FD;&#x6307;&#x6807;&#xFF0C;Disk Time&#x3001;IO&#x7B49;&#x5F85;</p>
</li>
<li><p>NetWork&#xFF1A;&#x7F51;&#x7EDC;&#x6307;&#x6807;&#xFF0C;&#x5E26;&#x5BBD;&#x4F7F;&#x7528;&#x7387;&#x3001;&#x4EFB;&#x52A1;&#x961F;&#x5217;&#x957F;&#x5EA6;</p>
</li>
</ul>
<ul class="ui list">
<li><p>TCP&#x8FDE;&#x63A5;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;netstat&#x547D;&#x4EE4;&#x7EDF;&#x8BA1;&#x5F97;&#x5230;</p>
</li>
<li><p>&#x4E2D;&#x95F4;&#x4EF6;&#x5EFA;&#x7ACB;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x76D1;&#x63A7;&#x7EBF;&#x7A0B;&#x72B6;&#x6001;</p>
</li>
<li><p>JVM&#x6027;&#x80FD;&#x6307;&#x6807;&#xFF0C;GC&#x60C5;&#x51B5;&#x3001;Heap&#x4F7F;&#x7528;&#x60C5;&#x51B5;</p>
</li>
<li><p>CPU&#x8D1F;&#x8F7D;&#x961F;&#x5217;&#x957F;&#x5EA6;</p>
</li>
<li><p>&#x670D;&#x52A1;&#x5668;&#x4E0E;&#x4E2D;&#x95F4;&#x4EF6;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x7684;&#x8FDE;&#x63A5;&#x6570;&#x53CA;&#x8FDE;&#x63A5;&#x72B6;&#x6001;</p>
</li>
</ul>
<h3 id="&#x4E00;&#x822C;&#x6027;&#x80FD;&#x5206;&#x6790;&#x7684;&#x8FC7;&#x7A0B;"><a href="#&#x4E00;&#x822C;&#x6027;&#x80FD;&#x5206;&#x6790;&#x7684;&#x8FC7;&#x7A0B;" class="headerlink" title="&#x4E00;&#x822C;&#x6027;&#x80FD;&#x5206;&#x6790;&#x7684;&#x8FC7;&#x7A0B;"></a>&#x4E00;&#x822C;&#x6027;&#x80FD;&#x5206;&#x6790;&#x7684;&#x8FC7;&#x7A0B;</h3><ul class="ui list">
<li>&#x68C0;&#x67E5;RT: &#x5BA2;&#x6237;&#x7AEF;&#x54CD;&#x5E94;&#x65F6;&#x95F4; </li>
<li>&#x68C0;&#x67E5;TPS: TPS&#x5927;&#x65F6;RT&#x5C0F;&#xFF0C; &#x8BF4;&#x660E;&#x6027;&#x80FD;&#x826F;&#x597D; </li>
<li>&#x68C0;&#x67E5;&#x8D1F;&#x8F7D;&#x673A;&#x8D44;&#x6E90;&#x6D88;&#x8017;: &#x68C0;&#x67E5;CPU&#x4F7F;&#x7528;&#x7387; </li>
<li>&#x68C0;&#x67E5;&#x88AB;&#x538B;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D44;&#x6E90;&#x6D88;&#x8017;: CPU &#x3001; &#x5185;&#x5B58;&#x3001;&#x78C1;&#x76D8;IO&#x3001;&#x5E26;&#x5BBD;&#x3001;&#x54CD;&#x5E94;&#x65F6;&#x95F4;</li>
<li>&#x68C0;&#x67E5;&#x4E2D;&#x95F4;&#x4EF6;&#x914D;&#x7F6E;: &#x786E;&#x5B9A;&#x662F;&#x5426;&#x6709;&#x914D;&#x7F6E;&#x53C2;&#x6570;&#x95EE;&#x9898; </li>
<li>&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;: CPU&#x3001;&#x5185;&#x5B58;&#x3001;IO&#x7E41;&#x5FD9;&#x7A0B;&#x5EA6;&#x3001;&#x6570;&#x636E;&#x5E93;&#x76D1;&#x63A7;</li>
</ul>
<h3 id="&#x76F8;&#x5173;&#x53C2;&#x8003;"><a href="#&#x76F8;&#x5173;&#x53C2;&#x8003;" class="headerlink" title="&#x76F8;&#x5173;&#x53C2;&#x8003;"></a>&#x76F8;&#x5173;&#x53C2;&#x8003;</h3><ul class="ui list">
<li>&#x5DE6;&#x8033;&#x6735;&#x5927;&#x795E;&#x5199;&#x8FC7;&#x4E00;&#x7BC7;&#x535A;&#x5BA2;&#xFF0C;&#x9610;&#x8FF0;&#x4ED6;&#x5BF9;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x7684;&#x4E00;&#x4E9B;&#x770B;&#x6CD5; <a href="https://coolshell.cn/articles/17381.html" target="_blank" rel="external">&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x5E94;&#x8BE5;&#x600E;&#x4E48;&#x505A;?</a></li>
<li>&#x5173;&#x4E8E;GC&#x5206;&#x6790;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x770B;<a href="http://www.jianshu.com/p/5ace2a0cafa4" target="_blank" rel="external">&#x521D;&#x6B65;&#x8BCA;&#x65AD;&#x4F60;&#x7684;GC</a></li>
</ul>
<p>&#x5F85;&#x7EED;&#x2026;&#x2026;</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;&amp;#x6027;&amp;#x80FD;&amp;#x6D4B;&amp;#x8BD5;&amp;#x65F6;&amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x5173;&amp;#x6CE8;&amp;#x7684;&amp;#x6307;&amp;#x6807;&quot;&gt;&lt;a href=&quot;#&amp;#x6027;
    
    </summary>
    
      <category term="性能测试" scheme="http://zclau.com/categories/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"/>
    
    
      <category term="性能测试" scheme="http://zclau.com/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>线程池拒绝策略源码小析</title>
    <link href="http://zclau.com/2017/11/10/%E7%BA%BF%E7%A8%8B%E6%B1%A0%E6%8B%92%E7%BB%9D%E7%AD%96%E7%95%A5%E6%BA%90%E7%A0%81%E5%B0%8F%E6%9E%90/"/>
    <id>http://zclau.com/2017/11/10/线程池拒绝策略源码小析/</id>
    <published>2017-11-10T07:17:15.000Z</published>
    <updated>2017-11-10T07:23:19.000Z</updated>
    
    <content type="html"><![CDATA[<ul class="ui list">
<li><p>&#x63D0;&#x4EA4;&#x4E00;&#x4E2A;&#x65B0;&#x7684;task&#x5230;&#x7EBF;&#x7A0B;&#x6C60;&#x540E;&#xFF0C;&#x6B64;&#x65F6;&#x5982;&#x679C;ThreadPool&#x5185;&#x7684;&#x6240;&#x6709;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#x90FD;&#x5728;&#x5FD9;&#x788C;&#x65F6;&#xFF08;&#x6CA1;&#x6709;&#x53EF;&#x7528;&#x7684;&#x7EBF;&#x7A0B;&#x53BB;&#x5904;&#x7406;&#x8BE5;task&#xFF09;&#xFF0C;&#x5E76;&#x4E14;&#x4EFB;&#x52A1;&#x961F;&#x5217;&#x4E5F;&#x5230;&#x8FBE;&#x754C;&#x9650;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x9700;&#x8981;&#x7528;&#x5230;&#x62D2;&#x7EDD;&#x7B56;&#x7565;&#x3002;</p>
</li>
<li><p>&#x5728; java.util.concurrent&#x5305;&#x4E0B;&#x6709;&#x4E2A;RejectedExecutionHandler&#x63A5;&#x53E3;&#xFF0C;&#x8BE5;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x4E86;rejectedExecution&#x65B9;&#x6CD5;&#xFF0C;&#x7528;&#x6765;&#x5B9E;&#x73B0;&#x5177;&#x4F53;&#x7684;&#x62D2;&#x7EDD;&#x884C;&#x4E3A;&#x3002;</p>
</li>
</ul>
<p><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-e39226683758c31e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-e39226683758c31e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<ul class="ui list">
<li>&#x518D;&#x5F80;&#x4E0B;&#x770B;&#xFF0C;Java&#x9884;&#x5B9A;&#x4E49;&#x4E86;&#x56DB;&#x79CD;&#x62D2;&#x7EDD;&#x7B56;&#x7565;&#xFF1A;<br><img src="http://upload-images.jianshu.io/upload_images/8923118-08fa4589a940767c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></li>
</ul>
<p>&#x4E0B;&#x9762;&#x5C31;&#x5206;&#x6790;&#x4E00;&#x4E0B;&#x8FD9;&#x56DB;&#x79CD;&#x62D2;&#x7EDD;&#x7B56;&#x7565;&#x6709;&#x4EC0;&#x4E48;&#x4E0D;&#x4E00;&#x6837;&#xFF1A;</p>
<h3 id="AbortPolicy"><a href="#AbortPolicy" class="headerlink" title="AbortPolicy"></a>AbortPolicy</h3><p><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-6d7b6ecd5323eb21.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-6d7b6ecd5323eb21.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;AbortPolicy&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x76F4;&#x63A5;&#x629B;&#x4E86;&#x4E2A;exception&#xFF0C;&#x5E76;&#x4E22;&#x5F03;&#x8BE5;task&#x3002;</p>
<h3 id="DiscardPolicy"><a href="#DiscardPolicy" class="headerlink" title="DiscardPolicy"></a>DiscardPolicy</h3><p><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-0f93f7ce1cedd7e9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-0f93f7ce1cedd7e9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>DiscardPolicy&#x4EC0;&#x4E48;&#x90FD;&#x6CA1;&#x505A;&#xFF0C;&#x9759;&#x9759;&#x5730;&#x4E22;&#x5F03;&#x8BE5;task</p>
<h3 id="DiscardOldestPolicy"><a href="#DiscardOldestPolicy" class="headerlink" title="DiscardOldestPolicy"></a>DiscardOldestPolicy</h3><p><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-80005ac373773c29.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-80005ac373773c29.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;DiscardOldestPolicy&#x4F1A;&#x5148;&#x901A;&#x8FC7;poll&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x4EFB;&#x52A1;&#x961F;&#x5217;&#x7684;&#x961F;&#x5934;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6700;&#x65E7;&#x7684;&#x90A3;&#x4E2A;&#x4EFB;&#x52A1;remove&#x6389;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x6700;&#x65B0;&#x7684;task&#x653E;&#x8FDB;&#x7EBF;&#x7A0B;&#x6C60;</p>
<h3 id="CallerRunsPolicy"><a href="#CallerRunsPolicy" class="headerlink" title="CallerRunsPolicy"></a>CallerRunsPolicy</h3><p><a class="magnific-img" href="http://upload-images.jianshu.io/upload_images/8923118-5623a7e77443ac0d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><img src="http://upload-images.jianshu.io/upload_images/8923118-5623a7e77443ac0d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" class="ui centered image"></a></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;CallerRunsPolicy&#x5C31;&#x662F;&#x76F4;&#x63A5;&#x8C03;&#x7528;Runnable&#x7684;&#x5B9E;&#x4F8B;&#x65B9;&#x6CD5;run&#x53BB;&#x6267;&#x884C;&#x8BE5;task&#xFF0C;&#x8BF4;&#x767D;&#x4E86;&#x5C31;&#x662F;&#x8BE5;task&#x76F4;&#x63A5;&#x7531;&#x8C03;&#x7528;&#x8005;&#x7EBF;&#x7A0B;&#x6765;&#x6267;&#x884C;</p>
<h3 id="&#x540E;&#x8BB0;"><a href="#&#x540E;&#x8BB0;" class="headerlink" title="&#x540E;&#x8BB0;"></a>&#x540E;&#x8BB0;</h3><p>&#x5F53;&#x7136;&#xFF0C;&#x4EE5;&#x4E0A;&#x56DB;&#x79CD;&#x62D2;&#x7EDD;&#x7B56;&#x7565;&#x53EA;&#x662F;jdk&#x9884;&#x5B9A;&#x4E49;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x81EA;&#x5B9A;&#x4E49;&#x62D2;&#x7EDD;&#x7B56;&#x7565;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5B9E;&#x73B0;RejectedExecutionHandler&#x63A5;&#x53E3;&#x5373;&#x53EF;</p>
]]></content>
    
    <summary type="html">
    
      &lt;ul class=&quot;ui list&quot;&gt;
&lt;li&gt;&lt;p&gt;&amp;#x63D0;&amp;#x4EA4;&amp;#x4E00;&amp;#x4E2A;&amp;#x65B0;&amp;#x7684;task&amp;#x5230;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;&amp;#x540E;&amp;#xFF0C;&amp;#x6B64;&amp;#x6
    
    </summary>
    
      <category term="Java" scheme="http://zclau.com/categories/Java/"/>
    
    
      <category term="Core Java" scheme="http://zclau.com/tags/Core-Java/"/>
    
  </entry>
  
  <entry>
    <title>maven依赖调解</title>
    <link href="http://zclau.com/2017/07/04/maven%E4%BE%9D%E8%B5%96%E8%B0%83%E8%A7%A3/"/>
    <id>http://zclau.com/2017/07/04/maven依赖调解/</id>
    <published>2017-07-04T13:35:10.000Z</published>
    <updated>2017-07-04T14:01:41.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x9879;&#x76EE;&#x6709;&#x4EE5;&#x4E0B;&#x4F9D;&#x8D56;&#xFF1A;</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.vips.components<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>vips-common-cache<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.poi<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>poi<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div></pre></td></tr></table></figure>
<p>&#x5176;&#x4E2D;</p>
<p>vips-common-cache &#x2014;&gt; vip-common-util &#x2014;&gt; commons-codec(1.6)</p>
<p>poi &#x2014;&gt; commons-codec(1.5)</p>
<p>&#x4F7F;&#x7528; mvn dependency:tree &#x5206;&#x6790;&#x4F9D;&#x8D56;&#x540E;&#xFF0C;&#x53D1;&#x73B0;maven&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x7684;&#x662F; poi&#x4E0B;&#x7684;commons-codec(1.5)</p>
<p><a class="magnific-img" href="http://7xp2k4.com1.z0.glb.clouddn.com/5FB88141-2E41-47A3-B09C-AD6986A6A56E.png"><img src="http://7xp2k4.com1.z0.glb.clouddn.com/5FB88141-2E41-47A3-B09C-AD6986A6A56E.png" alt="" class="ui centered image"></a></p>
<p>&#x518D;&#x6765;&#x770B;&#x4EE5;&#x4E0B;&#x60C5;&#x5F62;&#xFF1A;</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.httpcomponents<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>httpclient<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.4.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.poi<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>poi<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div></pre></td></tr></table></figure>
<p>httpclient &#x2014;&gt; commons-codec(1.9)</p>
<p>poi &#x2014;&gt; commons-codec(1.5)</p>
<p>&#x5206;&#x6790;&#x4F9D;&#x8D56;&#x540E;&#x53D1;&#x73B0;&#xFF0C;maven&#x9009;&#x62E9;&#x4E86;commons-codec(1.9)</p>
<p><a class="magnific-img" href="http://7xp2k4.com1.z0.glb.clouddn.com/WX20170620-102526.png"><img src="http://7xp2k4.com1.z0.glb.clouddn.com/WX20170620-102526.png" alt="" class="ui centered image"></a></p>
<h2 id="&#x7ED3;&#x8BBA;&#xFF1A;"><a href="#&#x7ED3;&#x8BBA;&#xFF1A;" class="headerlink" title="&#x7ED3;&#x8BBA;&#xFF1A;"></a>&#x7ED3;&#x8BBA;&#xFF1A;</h2><p>maven&#x9047;&#x5230;&#x4F9D;&#x8D56;&#x51B2;&#x7A81;&#x540E;&#xFF0C;&#x4E3B;&#x8981;&#x4E24;&#x79CD;&#x539F;&#x5219;&#x89E3;&#x51B3;&#xFF1A;</p>
<p>1.&#x8DEF;&#x5F84;&#x4F18;&#x5148;&#x539F;&#x5219;&#xFF1A;&#x5982;&#x7B2C;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;</p>
<p>vips-common-cache &#x2014;&gt; vip-common-util &#x2014;&gt; commons-codec(1.6)</p>
<p>poi &#x2014;&gt; commons-codec(1.5)</p>
<p>commons-codec(1.6)&#x8DEF;&#x5F84;&#x6DF1;&#x5EA6;&#x662F;3&#xFF0C; commons-codec(1.5)&#x662F;2&#xFF0C;&#x6240;&#x4EE5;maven&#x9009;&#x62E9;&#x8F83;&#x77ED;&#x8DEF;&#x5F84;&#x7684;&#x90A3;&#x4E2A;</p>
<p>2.&#x58F0;&#x660E;&#x4F18;&#x5148;&#x539F;&#x5219;&#xFF1A;&#x5982;&#x7B2C;&#x4E8C;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5F53;&#x51B2;&#x7A81;&#x4F9D;&#x8D56;&#x6240;&#x5904;&#x7684;&#x8DEF;&#x5F84;&#x76F8;&#x540C;&#xFF0C;&#x58F0;&#x660E;&#x5728;&#x524D;&#x7684;&#x4F1A;&#x88AB;&#x5F15;&#x7528;</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x9879;&amp;#x76EE;&amp;#x6709;&amp;#x4EE5;&amp;#x4E0B;&amp;#x4F9D;&amp;#x8D56;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;di
    
    </summary>
    
      <category term="Java" scheme="http://zclau.com/categories/Java/"/>
    
    
      <category term="Maven" scheme="http://zclau.com/tags/Maven/"/>
    
  </entry>
  
</feed>
